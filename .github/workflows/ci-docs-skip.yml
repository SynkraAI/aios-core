# CI Skip for Docs-Only PRs
#
# Problem: The main CI workflow uses paths-ignore for *.md and docs/**,
# so docs-only PRs never trigger the required status checks (ESLint,
# TypeScript, Jest). This blocks merge even though no code changed.
#
# Solution: This workflow runs ONLY for docs-only changes and reports
# success for the same job names that branch protection requires.
#
# Related: Issue #182, #99

name: CI

on:
  pull_request:
    branches:
      - main
    paths:
      - 'docs/**'
      - '*.md'
      - '.aios/**'
      - 'squads/**'
      - 'LICENSE'
      - '.gitignore'

permissions:
  contents: read

jobs:
  lint:
    name: ESLint
    runs-on: ubuntu-latest
    steps:
      - run: echo "Skipped — docs-only change, no code to lint"

  typecheck:
    name: TypeScript Type Checking
    runs-on: ubuntu-latest
    steps:
      - run: echo "Skipped — docs-only change, no code to typecheck"

  test-node18:
    name: Jest Tests (Node 18)
    runs-on: ubuntu-latest
    steps:
      - run: echo "Skipped — docs-only change, no tests to run"

  test-node20:
    name: Jest Tests (Node 20)
    runs-on: ubuntu-latest
    steps:
      - run: echo "Skipped — docs-only change, no tests to run"

  summary:
    name: Validation Summary
    runs-on: ubuntu-latest
    needs: [lint, typecheck, test-node18, test-node20]
    steps:
      - run: echo "All checks skipped — docs-only PR. No code changes detected."
